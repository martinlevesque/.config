# ===== General =====
confirm_os_window_close 1

# ===== FONT CONFIGURATION =====
font_family      JetBrains Mono
bold_font        JetBrains Mono Bold
italic_font      JetBrains Mono Italic
bold_italic_font JetBrains Mono Bold Italic
font_size 12.0

# Better rendering for code
disable_ligatures never
font_features JetBrainsMono-Regular +zero +cv05

# Improved line spacing for readability
adjust_line_height 3
adjust_column_width 0

# ===== CURSOR =====
cursor_shape beam
cursor_beam_thickness 1.8
cursor_blink_interval 0
cursor #c0caf5
cursor_text_color #1a1b26

# ===== SCROLLBACK =====
scrollback_lines 100000
scrollback_pager less -I --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 10
wheel_scroll_multiplier 5.0
touch_scroll_multiplier 1.0

# ===== MOUSE =====
mouse_hide_wait 3.0
url_color #7aa2f7
url_style curly
open_url_with default
detect_urls yes
copy_on_select yes
strip_trailing_spaces smart

# ===== PERFORMANCE =====
repaint_delay 8
input_delay 2
sync_to_monitor yes

# ===== TERMINAL BELL =====
enable_audio_bell no
visual_bell_duration 0.0
window_alert_on_bell yes
bell_on_tab "ðŸ”” "

# ===== WINDOW LAYOUT =====
remember_window_size  yes
initial_window_width  1200
initial_window_height 800
window_padding_width 8
placement_strategy center
hide_window_decorations titlebar-only

# ===== TAB BAR =====
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style slanted
tab_bar_min_tabs 2
tab_switch_strategy previous
tab_title_template "{index}: {title[title.rfind('/')+1:]}"

active_tab_foreground   #1a1b26
active_tab_background   #7aa2f7
active_tab_font_style   bold
inactive_tab_foreground #c0caf5
inactive_tab_background #292e42
inactive_tab_font_style normal

# ===== COLOR SCHEME - TOKYO NIGHT =====
foreground #c0caf5
background #1a1b26
selection_foreground #c0caf5
selection_background #33467C

# Black
color0 #15161E
color8 #414868

# Red
color1 #f7768e
color9 #f7768e

# Green
color2  #9ece6a
color10 #9ece6a

# Yellow
color3  #e0af68
color11 #e0af68

# Blue
color4  #7aa2f7
color12 #7aa2f7

# Magenta
color5  #bb9af7
color13 #bb9af7

# Cyan
color6  #7dcfff
color14 #7dcfff

# White
color7  #a9b1d6
color15 #c0caf5

# ===== ADVANCED =====
allow_remote_control yes
listen_on unix:/tmp/kitty
shell_integration enabled
term xterm-256color

# Background effects
background_opacity 0.97
dynamic_background_opacity yes

# ===== KEY MAPPINGS =====
# Clipboard
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard

# Window management
map ctrl+shift+enter new_window_with_cwd
map ctrl+shift+w close_window
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window

# Tab management
map ctrl+shift+t new_tab_with_cwd
map ctrl+shift+q close_tab
map ctrl+right next_tab
map ctrl+left previous_tab
map ctrl+shift+right move_tab_forward
map ctrl+shift+left move_tab_backward

# Font size
map ctrl+shift+equal change_font_size all +1.0
map ctrl+shift+minus change_font_size all -1.0
map ctrl+shift+0 change_font_size all 0

# Scrollback
map ctrl+shift+k scroll_line_up
map ctrl+shift+j scroll_line_down
map ctrl+shift+page_up scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home scroll_home
map ctrl+shift+end scroll_end
map ctrl+shift+f show_scrollback

# Opacity
map ctrl+shift+a>m set_background_opacity +0.05
map ctrl+shift+a>l set_background_opacity -0.05
map ctrl+shift+a>1 set_background_opacity 1
map ctrl+shift+a>d set_background_opacity default

# Miscellaneous
map ctrl+shift+f11 toggle_fullscreen
map ctrl+shift+u kitten unicode_input
map ctrl+shift+escape kitty_shell window

# Clear terminal
map ctrl+shift+delete clear_terminal reset active

# ===== OS SPECIFIC =====
# Uncomment for macOS
# macos_option_as_alt yes
# macos_quit_when_last_window_closed yes
# macos_traditional_fullscreen yes

# Uncomment for Linux
# linux_display_server auto
